class KissScrollAnim{constructor(t={}){this.options=Object.assign({},{root:null,rootMargin:"0px",ratio:.25},t),this.elements=document.querySelectorAll(".ksa-element"),this.observer,this.ratio=this.options.ratio,this.init()}init(){let t=this.setObserverOptions();this.observer=new IntersectionObserver(this.handleIntersect.bind(this),t),this.elements.forEach(t=>{t.classList.add("ksa-invisible"),t.dataset.ksaDelay?this.getDataOptions(t):this.observer.observe(t)})}setObserverOptions(){return{root:this.options.root,rootMargin:this.options.rootMargin,threshold:this.options.ratio}}getDataOptions(t){let e=Number.parseInt(t.dataset.ksaDelay,10);Number.isNaN(e)&&(e=0),0!=e?(t.setAttribute("style","animation-delay:"+e+"ms;"),this.observeElement(t)):this.observeElement(t)}observeElement(t){this.observer.observe(t)}handleIntersect(t,e){t.forEach(t=>{t.intersectionRatio>this.ratio&&(t.target.classList.remove("ksa-invisible"),t.target.classList.add("ksa-active"),e.unobserve(t.target))})}}